@inject WeatherApiService WeatherService

<h1>Weather Data</h1>



@code {
    private string locationName;
    private string locationCountry;
    private string weatherData; // Moved weatherData declaration here

    // This method will be called when the component is initialized
    protected override void OnInitialized()
    {
        try
        {
            if (!string.IsNullOrEmpty(weatherData))
            {
                // Parse the JSON string
                dynamic jsonData = JsonConvert.DeserializeObject(weatherData);

                // Extract the name field
                locationName = jsonData.location.name;
                locationCountry = jsonData.location.country;
            }
            else
            {
                Console.WriteLine("Error: weatherData is null or empty");
            }
        }
        catch (Exception ex)
        {
            // Handle exceptions
            Console.WriteLine("Error: " + ex.Message);
        }
    }

    private async Task FetchWeatherData()
    {
        try
        {
            //DateTime.Parse("2023-12-12")
            //DateTime.Today
            weatherData = await WeatherService.GetWeatherForecastAsync("Dublin", 4, DateTime.Parse("2023-12-12"));
            //Console.WriteLine(weatherData);
        }
        catch (Exception ex)
        {
            // Handle exceptions
            Console.WriteLine($"Error: {ex.Message}");
        }
    }

    // Call FetchWeatherData when the page is initialized
    protected override async Task OnInitializedAsync()
    {
        await FetchWeatherData();
        // Call OnInitialized after fetching weather data
        OnInitialized();
    }
}


<h3>Location Name: @locationName</h3>

    <!-- Centered Container -->
    <div class="centered_container">
        <div class="top_left_text">@locationName, @locationCountry</div>
     <div>
    <h1 class="inlineBlock">Centered Container</h1>
    <div class="blockContainer">
        <p>Humidity: </p>
    </div>
    <div class="blockContainer">
        <p>Wind: </p>
    </div>
</div>

        <p>This is some text inside the centered container.</p>
            <div class="below_container_text">Text Below Centered Container</div>
            <h3>Range Slider Example</h3>

<div>
   
    <input class="range" type="range" id="slider" name="slider" min="0" max="100" step="1" @bind="sliderValue" />
    <p>Selected Value: @sliderValue</p>
</div>

@code {
        private int sliderValue = 50;
}




<div class="temp_cards">
 <div class="card">
        <div class="card-body">
            <h5 class="card-title">Card 1</h5>
            <p class="card-text">7</p>
            <p class="card-text">11</p>
        </div>
    </div>

 <div class="card">
        <div class="card-body">
            <h5 class="card-title">Card 1</h5>
            <p class="card-text">73</p>
            <p class="card-text">11</p>
        </div>
    </div>
    </div>
    </div>

 <div class="centered_container">
     <h3>Today's Forecasts for</h3>
    <div class="container mt-5">
        <h2 class="text-center mb-4">Time of Day Samples</h2>

        <div class="row">
            <div class="col-md-3">
                <h3 class="text-center">Morning</h3>
                <p>Sample text for the morning.</p>
                <p>Another sample text for the morning.</p>
            </div>
            <div class="col-md-3">
                <h3 class="text-center">Afternoon</h3>
                <p>Sample text for the afternoon.</p>
                <p>Another sample text for the afternoon.</p>
            </div>
            <div class="col-md-3">
                <h3 class="text-center">Evening</h3>
                <p>Sample text for the evening.</p>
                <p>Another sample text for the evening.</p>
            </div>
            <div class="col-md-3">
                <h3 class="text-center">Night</h3>
                <p>Sample text for the night.</p>
                <p>Another sample text for the night.</p>
            </div>
        </div>
    </div>

</div>

<div class="centered_container">
     <h3>Weather Insights</h3>
     <h3>Feels like </h3>
    <div class="container mt-5">
        <h2 class="text-center mb-4">Time of Day Samples</h2>

        <div class="row">
            <div class="col-md-6">
                <h3 class="text-center">Morning</h3>
                <p>Sample text for the morning.</p>
                <p>Another sample text for the morning.</p>
                <p>Another sample text for the afternoon.</p>
            </div>
            <div class="col-md-6">
                <h3 class="text-center">Afternoon</h3>
                <p>Sample text for the afternoon.</p>
                <p>Another sample text for the afternoon.</p
                    <p>Another sample text for the afternoon.</p>
            </div>

        </div>
    </div>

</div>

